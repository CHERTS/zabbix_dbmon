---
test case: 2021-11-10 12:30:00 +02:00 baseline(1h:now/h, 4h, 0)
in:
  timezone: :Europe/Riga
  time: 2021-11-10 12:30:00 +02:00
  period: 1h:now/h
  season_num: 4
  season: h
  skip: 0
out:
  data:
    - end:   2021-11-10 11:00:00 +02:00
      start: 2021-11-10 11:00:00 +02:00
    - end:   2021-11-10 10:00:00 +02:00
      start: 2021-11-10 10:00:00 +02:00
    - end:   2021-11-10 9:00:00 +02:00
      start: 2021-11-10 9:00:00 +02:00
    - end:   2021-11-10 8:00:00 +02:00
      start: 2021-11-10 8:00:00 +02:00
    - end:   2021-11-10 7:00:00 +02:00
      start: 2021-11-10 7:00:00 +02:00
---
test case: 2021-11-10 12:30:00 +02:00 baseline(1h:now/h, 4h, 1)
in:
  timezone: :Europe/Riga
  time: 2021-11-10 12:30:00 +02:00
  period: 1h:now/h
  season_num: 4
  season: h
  skip: 1
out:
  data:
    - end:   2021-11-10 10:00:00 +02:00
      start: 2021-11-10 10:00:00 +02:00
    - end:   2021-11-10 9:00:00 +02:00
      start: 2021-11-10 9:00:00 +02:00
    - end:   2021-11-10 8:00:00 +02:00
      start: 2021-11-10 8:00:00 +02:00
    - end:   2021-11-10 7:00:00 +02:00
      start: 2021-11-10 7:00:00 +02:00
---
test case: 2021-11-10 12:30:00 +02:00 baseline(1h:now/h, 4h, 2)
in:
  timezone: :Europe/Riga
  time: 2021-11-10 12:30:00 +02:00
  period: 1h:now/h
  season_num: 4
  season: h
  skip: 2
out:
  data:
    - end:   2021-11-10 9:00:00 +02:00
      start: 2021-11-10 9:00:00 +02:00
    - end:   2021-11-10 8:00:00 +02:00
      start: 2021-11-10 8:00:00 +02:00
    - end:   2021-11-10 7:00:00 +02:00
      start: 2021-11-10 7:00:00 +02:00
---
test case: 2021-11-10 12:30:00 +02:00 baseline(2h:now/h, 2h, 0)
in:
  timezone: :Europe/Riga
  time: 2021-11-10 12:30:00 +02:00
  period: 2h:now/h
  season_num: 2
  season: h
  skip: 0
out:
  data:
    - end:   2021-11-10 11:00:00 +02:00
      start: 2021-11-10 10:00:00 +02:00
    - end:   2021-11-10 10:00:00 +02:00
      start: 2021-11-10 9:00:00 +02:00
    - end:   2021-11-10 9:00:00 +02:00
      start: 2021-11-10 8:00:00 +02:00
---
test case: 2021-11-10 12:30:00 +02:00 baseline(9h:now/d-6h, 2d, 0)
in:
  timezone: :Europe/Riga
  time: 2021-11-10 12:30:00 +02:00
  period: 9h:now/d-6h
  season_num: 2
  season: d
  skip: 0
out:
  data:
    - start: 2021-11-9 9:00:00 +02:00
      end:   2021-11-9 17:00:00 +02:00
    - start: 2021-11-8 9:00:00 +02:00
      end:   2021-11-8 17:00:00 +02:00
    - start: 2021-11-7 9:00:00 +02:00
      end:   2021-11-7 17:00:00 +02:00
---
test case: 2021-11-10 12:30:00 +02:00 baseline(1d:now/d, 2w, 0)
in:
  timezone: :Europe/Riga
  time: 2021-11-10 12:30:00 +02:00
  period: 1d:now/d
  season_num: 2
  season: w
  skip: 0
out:
  data:
    - start: 2021-11-9 0:00:00 +02:00
      end:   2021-11-9 23:00:00 +02:00
    - start: 2021-11-2 0:00:00 +02:00
      end:   2021-11-2 23:00:00 +02:00
    - start: 2021-10-26 0:00:00 +03:00
      end:   2021-10-26 23:00:00 +03:00
---
test case: 2021-11-10 12:30:00 +02:00 baseline(2d:now/w, 2w, 0)
in:
  timezone: :Europe/Riga
  time: 2021-11-10 12:30:00 +02:00
  period: 2d:now/w
  season_num: 2
  season: w
  skip: 0
out:
  data:
    - start: 2021-11-6 0:00:00 +02:00
      end:   2021-11-7 23:00:00 +02:00
    - start: 2021-10-30 0:00:00 +03:00
      end:   2021-10-31 23:00:00 +02:00
    - start: 2021-10-23 0:00:00 +03:00
      end:   2021-10-24 23:00:00 +03:00
---
test case: 2021-03-31 12:30:00 +02:00 baseline(1d:now/d, 2M, 0)
in:
  timezone: :Europe/Riga
  time: 2021-03-31 12:30:00 +02:00
  period: 1d:now/d
  season_num: 2
  season: M
  skip: 0
out:
  data:
    - start: 2021-03-30 0:00:00 +03:00
      end:   2021-03-30 23:00:00 +03:00
    - start: 2021-02-27 0:00:00 +02:00
      end:   2021-02-27 23:00:00 +02:00
    - start: 2021-01-30 0:00:00 +02:00
      end:   2021-01-30 23:00:00 +02:00
---
test case: 2021-03-31 12:30:00 +02:00 baseline(1M:now/M, 2M, 0)
in:
  timezone: :Europe/Riga
  time: 2021-03-31 12:30:00 +02:00
  period: 1M:now/M
  season_num: 2
  season: M
  skip: 0
out:
  data:
    - start: 2021-02-01 0:00:00 +02:00
      end:   2021-02-28 23:00:00 +02:00
    - start: 2021-01-01 0:00:00 +02:00
      end:   2021-01-31 23:00:00 +02:00
    - start: 2020-12-01 0:00:00 +02:00
      end:   2020-12-31 23:00:00 +02:00
---
test case: 2021-03-31 12:30:00 +02:00 baseline(1M:now/M, 2y, 0)
in:
  timezone: :Europe/Riga
  time: 2021-03-31 12:30:00 +02:00
  period: 1M:now/M
  season_num: 2
  season: y
  skip: 0
out:
  data:
    - start: 2021-02-01 0:00:00 +02:00
      end:   2021-02-28 23:00:00 +02:00
    - start: 2020-02-01 0:00:00 +02:00
      end:   2020-02-29 23:00:00 +02:00
    - start: 2019-02-01 0:00:00 +02:00
      end:   2019-02-28 23:00:00 +02:00
---
test case: 2021-03-31 12:30:00 +02:00 baseline(1y:now/y, 2y, 0)
in:
  timezone: :Europe/Riga
  time: 2021-03-31 12:30:00 +02:00
  period: 1y:now/y
  season_num: 2
  season: y
  skip: 0
out:
  data:
    - start: 2020-01-01 0:00:00 +02:00
      end:   2020-12-31 23:00:00 +02:00
    - start: 2019-01-01 0:00:00 +02:00
      end:   2019-12-31 23:00:00 +02:00
    - start: 2018-01-01 0:00:00 +02:00
      end:   2018-12-31 23:00:00 +02:00
---
test case: 2021-11-11 12:30:00 +02:00 baseline(1w:now/w, 2y, 0)
in:
  timezone: :Europe/Riga
  time: 2021-11-11 12:30:00 +02:00
  period: 1w:now/w
  season_num: 2
  season: y
  skip: 0
out:
  data:
    - start: 2021-11-01 0:00:00 +02:00
      end:   2021-11-07 23:00:00 +02:00
    - start: 2020-10-26 0:00:00 +02:00
      end:   2020-11-01 23:00:00 +02:00
    - start: 2019-10-28 0:00:00 +02:00
      end:   2019-11-03 23:00:00 +02:00
---
test case: 2021-01-11 12:30:00 +02:00 baseline(1w:now/w, 2y, 0)
in:
  timezone: :Europe/Riga
  time: 2021-01-11 12:30:00 +02:00
  period: 1w:now/w
  season_num: 2
  season: y
  skip: 0
out:
  data:
    - start: 2021-01-04 0:00:00 +02:00
      end:   2021-01-10 23:00:00 +02:00
    - start: 2019-12-30 0:00:00 +02:00
      end:   2020-01-05 23:00:00 +02:00
    - start: 2018-12-31 0:00:00 +02:00
      end:   2019-01-06 23:00:00 +02:00
---
test case: 2021-01-10 12:30:00 +02:00 baseline(1w:now/w, 2y, 0)
in:
  timezone: :Europe/Riga
  time: 2021-01-10 12:30:00 +02:00
  period: 1w:now/w
  season_num: 2
  season: y
  skip: 0
out:
  data:
    - start: 2020-12-28 0:00:00 +02:00
      end:   2021-01-03 23:00:00 +02:00
    - start: 2019-12-23 0:00:00 +02:00
      end:   2019-12-29 23:00:00 +02:00
    - start: 2018-12-24 0:00:00 +02:00
      end:   2018-12-30 23:00:00 +02:00
...
