<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
   <version>5.0</version>
   <date>2022-03-03T14:31:32Z</date>
   <groups>
      <group>
         <name>Templates/Applications</name>
      </group>
   </groups>
   <templates>
      <template>
         <template>Template App Generic Java JMX</template>
         <name>Template App Generic Java JMX</name>
         <description>Template tooling version used: 0.39</description>
         <groups>
            <group>
               <name>Templates/Applications</name>
            </group>
         </groups>
         <applications>
            <application>
               <name>JMX</name>
            </application>
         </applications>
         <items>
            <item>
               <name>ClassLoading: Loaded class count</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=ClassLoading","LoadedClassCount"]</key>
               <history>7d</history>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Displays number of classes that are currently loaded in the Java virtual machine.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>ClassLoading: Total loaded class count</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=ClassLoading","TotalLoadedClassCount"]</key>
               <history>7d</history>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Displays the total number of classes that have been loaded since the Java virtual machine has started execution.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>ClassLoading: Unloaded class count</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=ClassLoading","UnloadedClassCount"]</key>
               <history>7d</history>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Displays the total number of classes that have been loaded since the Java virtual machine has started execution.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Compilation: Name of the current JIT compiler</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Compilation","Name"]</key>
               <history>7d</history>
               <trends>0</trends>
               <value_type>CHAR</value_type>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Displays the total number of classes unloaded since the Java virtual machine has started execution.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>30m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
               <triggers>
                  <trigger>
                     <expression>{str(Client)}=1</expression>
                     <name>Compilation: {HOST.NAME} uses suboptimal JIT compiler</name>
                     <priority>INFO</priority>
                     <manual_close>YES</manual_close>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>Compilation: Accumulated time spent</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Compilation","TotalCompilationTime"]</key>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>s</units>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Displays the approximate accumulated elapsed time spent in compilation, in seconds.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>MULTIPLIER</type>
                     <params>0.001</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Memory: Heap memory committed</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Memory","HeapMemoryUsage.committed"]</key>
               <history>7d</history>
               <units>B</units>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Current heap memory allocated. This amount of memory is guaranteed for the Java virtual machine to use.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Memory: Heap memory maximum size</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Memory","HeapMemoryUsage.max"]</key>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>B</units>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Maximum amount of heap that can be used for memory management. This amount of memory is not guaranteed to be available if it is greater than the amount of committed memory. The Java virtual machine may fail to allocate memory even if the amount of used memory does not exceed this maximum size.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Memory: Heap memory used</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Memory","HeapMemoryUsage.used"]</key>
               <history>7d</history>
               <units>B</units>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Current memory usage outside the heap.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Memory: Non-Heap memory committed</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Memory","NonHeapMemoryUsage.committed"]</key>
               <history>7d</history>
               <units>B</units>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Current memory allocated outside the heap. This amount of memory is guaranteed for the Java virtual machine to use.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Memory: Non-Heap memory maximum size</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Memory","NonHeapMemoryUsage.max"]</key>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>B</units>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Maximum amount of non-heap memory that can be used for memory management. This amount of memory is not guaranteed to be available if it is greater than the amount of committed memory. The Java virtual machine may fail to allocate memory even if the amount of used memory does not exceed this maximum size.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Memory: Non-Heap memory used</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Memory","NonHeapMemoryUsage.used"]</key>
               <history>7d</history>
               <units>B</units>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Current memory usage outside the heap</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Memory: Object pending finalization count</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Memory","ObjectPendingFinalizationCount"]</key>
               <history>7d</history>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>The approximate number of objects for which finalization is pending.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>OperatingSystem: File descriptors maximum count</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=OperatingSystem","MaxFileDescriptorCount"]</key>
               <history>7d</history>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>This is the number of file descriptors we can have opened in the same process, as determined by the operating system. You can never have more file descriptors than this number.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>OperatingSystem: File descriptors opened</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=OperatingSystem","OpenFileDescriptorCount"]</key>
               <history>7d</history>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>This is the number of opened file descriptors at the moment, if this reaches the MaxFileDescriptorCount, the application will throw an IOException: Too many open files. This could mean you are opening file descriptors and never closing them.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>OperatingSystem: Process CPU Load</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=OperatingSystem","ProcessCpuLoad"]</key>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>%</units>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>ProcessCpuLoad represents the CPU load in this process.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>MULTIPLIER</type>
                     <params>100</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
               <triggers>
                  <trigger>
                     <expression>{min({$JMX.CPU.LOAD.TIME})}&gt;{$JMX.CPU.LOAD.MAX}</expression>
                     <name>OperatingSystem: Process CPU Load more than {$JMX.CPU.LOAD.MAX}% for {$JMX.CPU.LOAD.TIME}</name>
                     <priority>AVERAGE</priority>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>Runtime: JVM uptime</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Runtime","Uptime"]</key>
               <history>7d</history>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>MULTIPLIER</type>
                     <params>0.001</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
               <triggers>
                  <trigger>
                     <expression>{nodata(5m)}=1</expression>
                     <name>Runtime: JVM is not reachable</name>
                     <priority>AVERAGE</priority>
                     <manual_close>YES</manual_close>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>Runtime: JVM name</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Runtime","VmName"]</key>
               <delay>1h</delay>
               <history>7d</history>
               <trends>0</trends>
               <value_type>CHAR</value_type>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>30m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
               <triggers>
                  <trigger>
                     <expression>{str(Server)}&lt;&gt;1</expression>
                     <name>Runtime: {HOST.NAME} runs suboptimal VM type</name>
                     <priority>INFO</priority>
                     <manual_close>YES</manual_close>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>Runtime: JVM version</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Runtime","VmVersion"]</key>
               <delay>1h</delay>
               <history>7d</history>
               <trends>0</trends>
               <value_type>CHAR</value_type>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>30m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Threading: Daemon thread count</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Threading","DaemonThreadCount"]</key>
               <history>7d</history>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Number of daemon threads running.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>10m</params>
                  </step>
               </preprocessing>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Threading: Peak thread count</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Threading","PeakThreadCount"]</key>
               <history>7d</history>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>Maximum number of threads being executed at the same time since the JVM was started or the peak was reset.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Threading: Thread count</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Threading","ThreadCount"]</key>
               <history>7d</history>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>The number of threads running at the current moment.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
            <item>
               <name>Threading: Total started thread count</name>
               <type>JMX</type>
               <key>jmx["java.lang:type=Threading","TotalStartedThreadCount"]</key>
               <history>7d</history>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <description>The number of threads started since the JVM was launched.</description>
               <applications>
                  <application>
                     <name>JMX</name>
                  </application>
               </applications>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
            </item>
         </items>
         <discovery_rules>
            <discovery_rule>
               <name>Garbage collector discovery</name>
               <type>JMX</type>
               <key>jmx.discovery["beans","java.lang:name=*,type=GarbageCollector"]</key>
               <delay>4h</delay>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
               <description>Garbage collectors metrics discovery.</description>
               <item_prototypes>
                  <item_prototype>
                     <name>GarbageCollector {#JMXNAME}: number of collections per second</name>
                     <type>JMX</type>
                     <key>jmx["java.lang:name={#JMXNAME},type=GarbageCollector","CollectionCount"]</key>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <username>{$JMX.USER}</username>
                     <password>{$JMX.PASSWORD}</password>
                     <description>Displays the total number of collections that have occurred per second.</description>
                     <applications>
                        <application>
                           <name>JMX</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                     <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                  </item_prototype>
                  <item_prototype>
                     <name>GarbageCollector {#JMXNAME}: accumulated time spent in collection</name>
                     <type>JMX</type>
                     <key>jmx["java.lang:name={#JMXNAME},type=GarbageCollector","CollectionTime"]</key>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <units>s</units>
                     <username>{$JMX.USER}</username>
                     <password>{$JMX.PASSWORD}</password>
                     <description>Displays the approximate accumulated collection elapsed time, in seconds.</description>
                     <applications>
                        <application>
                           <name>JMX</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>0.001</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>10m</params>
                        </step>
                     </preprocessing>
                     <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                  </item_prototype>
               </item_prototypes>
               <graph_prototypes>
                  <graph_prototype>
                     <name>GarbageCollector {#JMXNAME}: Garbage Collector {#JMXNAME} collections per second</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template App Generic Java JMX</host>
                              <key>jmx["java.lang:name={#JMXNAME},type=GarbageCollector","CollectionCount"]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
            </discovery_rule>
            <discovery_rule>
               <name>Memory pool discovery</name>
               <type>JMX</type>
               <key>jmx.discovery["beans","java.lang:name=*,type=MemoryPool"]</key>
               <delay>4h</delay>
               <username>{$JMX.USER}</username>
               <password>{$JMX.PASSWORD}</password>
               <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
               <filter>
                  <conditions>
                     <condition>
                        <macro>{#JMXNAME}</macro>
                        <value>{$JMX.MEM.POOL.NAME.MATCHES}</value>
                        <formulaid>A</formulaid>
                     </condition>
                  </conditions>
               </filter>
               <description>Memory pools metrics discovery.</description>
               <item_prototypes>
                  <item_prototype>
                     <name>Memory pool {#JMXNAME}: committed</name>
                     <type>JMX</type>
                     <key>jmx["java.lang:name={#JMXNAME},type=MemoryPool","Usage.committed"]</key>
                     <history>7d</history>
                     <units>B</units>
                     <username>{$JMX.USER}</username>
                     <password>{$JMX.PASSWORD}</password>
                     <description>Current memory allocated.</description>
                     <applications>
                        <application>
                           <name>JMX</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>10m</params>
                        </step>
                     </preprocessing>
                     <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                  </item_prototype>
                  <item_prototype>
                     <name>Memory pool {#JMXNAME}: maximum size</name>
                     <type>JMX</type>
                     <key>jmx["java.lang:name={#JMXNAME},type=MemoryPool","Usage.max"]</key>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <units>B</units>
                     <username>{$JMX.USER}</username>
                     <password>{$JMX.PASSWORD}</password>
                     <description>Maximum amount of memory that can be used for memory management. This amount of memory is not guaranteed to be available if it is greater than the amount of committed memory. The Java virtual machine may fail to allocate memory even if the amount of used memory does not exceed this maximum size.</description>
                     <applications>
                        <application>
                           <name>JMX</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>10m</params>
                        </step>
                     </preprocessing>
                     <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                  </item_prototype>
                  <item_prototype>
                     <name>Memory pool {#JMXNAME}: used</name>
                     <type>JMX</type>
                     <key>jmx["java.lang:name={#JMXNAME},type=MemoryPool","Usage.used"]</key>
                     <history>7d</history>
                     <units>B</units>
                     <username>{$JMX.USER}</username>
                     <password>{$JMX.PASSWORD}</password>
                     <description>Current memory usage.</description>
                     <applications>
                        <application>
                           <name>JMX</name>
                        </application>
                     </applications>
                     <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                  </item_prototype>
               </item_prototypes>
               <trigger_prototypes>
                  <trigger_prototype>
                     <expression>{Template App Generic Java JMX:jmx["java.lang:name={#JMXNAME},type=MemoryPool","Usage.used"].min({$JMX.MP.USAGE.TIME:"{#JMXNAME}"})}&gt;({Template App Generic Java JMX:jmx["java.lang:name={#JMXNAME},type=MemoryPool","Usage.max"].last()}*{$JMX.MP.USAGE.MAX:"{#JMXNAME}"}/100) and {Template App Generic Java JMX:jmx["java.lang:name={#JMXNAME},type=MemoryPool","Usage.max"].last()}&gt;0</expression>
                     <name>Memory pool {#JMXNAME}: {#JMXNAME} memory usage more than {$JMX.MP.USAGE.MAX:"{#JMXNAME}"}% for {$JMX.MP.USAGE.TIME:"{#JMXNAME}"}</name>
                     <priority>WARNING</priority>
                  </trigger_prototype>
               </trigger_prototypes>
               <graph_prototypes>
                  <graph_prototype>
                     <name>Memory pool {#JMXNAME}: Memory pool {#JMXNAME}</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template App Generic Java JMX</host>
                              <key>jmx["java.lang:name={#JMXNAME},type=MemoryPool","Usage.max"]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>1</sortorder>
                           <color>2774A4</color>
                           <item>
                              <host>Template App Generic Java JMX</host>
                              <key>jmx["java.lang:name={#JMXNAME},type=MemoryPool","Usage.committed"]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>2</sortorder>
                           <color>F63100</color>
                           <item>
                              <host>Template App Generic Java JMX</host>
                              <key>jmx["java.lang:name={#JMXNAME},type=MemoryPool","Usage.used"]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
            </discovery_rule>
         </discovery_rules>
         <macros>
            <macro>
               <macro>{$JMX.CPU.LOAD.MAX}</macro>
               <value>85</value>
               <description>A threshold in percent for CPU utilization trigger.</description>
            </macro>
            <macro>
               <macro>{$JMX.CPU.LOAD.TIME}</macro>
               <value>5m</value>
               <description>The time during which the CPU utilization may exceed the threshold.</description>
            </macro>
            <macro>
               <macro>{$JMX.FILE.DESCRIPTORS.MAX}</macro>
               <value>85</value>
               <description>A threshold in percent for file descriptors count trigger.</description>
            </macro>
            <macro>
               <macro>{$JMX.FILE.DESCRIPTORS.TIME}</macro>
               <value>3m</value>
               <description>The time during which the file descriptors count may exceed the threshold.</description>
            </macro>
            <macro>
               <macro>{$JMX.HEAP.MEM.USAGE.MAX}</macro>
               <value>85</value>
               <description>A threshold in percent for Heap memory utilization trigger.</description>
            </macro>
            <macro>
               <macro>{$JMX.HEAP.MEM.USAGE.TIME}</macro>
               <value>10m</value>
               <description>The time during which the Heap memory utilization may exceed the threshold.</description>
            </macro>
            <macro>
               <macro>{$JMX.MEM.POOL.NAME.MATCHES}</macro>
               <value>Old Gen|G1|Perm Gen|Code Cache|Tenured Gen</value>
               <description>This macro used in memory pool discovery as a filter.</description>
            </macro>
            <macro>
               <macro>{$JMX.MP.USAGE.MAX}</macro>
               <value>85</value>
               <description>A threshold in percent for memory pools utilization trigger. Use a context to change the threshold for a specific pool.</description>
            </macro>
            <macro>
               <macro>{$JMX.MP.USAGE.TIME}</macro>
               <value>10m</value>
               <description>The time during which the memory pools utilization may exceed the threshold.</description>
            </macro>
            <macro>
               <macro>{$JMX.NONHEAP.MEM.USAGE.MAX}</macro>
               <value>85</value>
               <description>A threshold in percent for Non-heap memory utilization trigger.</description>
            </macro>
            <macro>
               <macro>{$JMX.NONHEAP.MEM.USAGE.TIME}</macro>
               <value>10m</value>
               <description>The time during which the Non-heap memory utilization may exceed the threshold.</description>
            </macro>
            <macro>
               <macro>{$JMX.PASSWORD}</macro>
               <description>JMX password.</description>
            </macro>
            <macro>
               <macro>{$JMX.USER}</macro>
               <description>JMX username.</description>
            </macro>
         </macros>
      </template>
   </templates>
   <triggers>
      <trigger>
         <expression>{Template App Generic Java JMX:jmx["java.lang:type=Memory","HeapMemoryUsage.used"].min({$JMX.HEAP.MEM.USAGE.TIME})}&gt;({Template App Generic Java JMX:jmx["java.lang:type=Memory","HeapMemoryUsage.max"].last()}*{$JMX.HEAP.MEM.USAGE.MAX}/100) and {Template App Generic Java JMX:jmx["java.lang:type=Memory","HeapMemoryUsage.max"].last()}&gt;0</expression>
         <name>Memory: Heap memory usage more than {$JMX.HEAP.USAGE.MAX}% for {$JMX.HEAP.MEM.USAGE.TIME}</name>
         <priority>WARNING</priority>
      </trigger>
      <trigger>
         <expression>{Template App Generic Java JMX:jmx["java.lang:type=Memory","NonHeapMemoryUsage.used"].min({$JMX.NONHEAP.MEM.USAGE.TIME})}&gt;({Template App Generic Java JMX:jmx["java.lang:type=Memory","NonHeapMemoryUsage.max"].last()}*{$JMX.NONHEAP.MEM.USAGE.MAX}/100) and {Template App Generic Java JMX:jmx["java.lang:type=Memory","NonHeapMemoryUsage.max"].last()}&gt;0</expression>
         <name>Memory: Non-Heap memory usage more than {$JMX.NONHEAP.MEM.USAGE.MAX}% for {$JMX.NONHEAP.MEM.USAGE.TIME}</name>
         <priority>WARNING</priority>
      </trigger>
      <trigger>
         <expression>{Template App Generic Java JMX:jmx["java.lang:type=OperatingSystem","OpenFileDescriptorCount"].min({$JMX.FILE.DESCRIPTORS.TIME})}&gt;({Template App Generic Java JMX:jmx["java.lang:type=OperatingSystem","MaxFileDescriptorCount"].last()}*{$JMX.FILE.DESCRIPTORS.MAX}/100)</expression>
         <name>OperatingSystem: Opened file descriptor count more than {$JMX.FILE.DESCRIPTORS.MAX}% of maximum</name>
         <priority>WARNING</priority>
      </trigger>
   </triggers>
   <graphs>
      <graph>
         <name>ClassLoading: Class Loader</name>
         <graph_items>
            <graph_item>
               <color>1A7C11</color>
               <item>
                  <host>Template App Generic Java JMX</host>
                  <key>jmx["java.lang:type=ClassLoading","TotalLoadedClassCount"]</key>
               </item>
            </graph_item>
            <graph_item>
               <sortorder>1</sortorder>
               <color>2774A4</color>
               <item>
                  <host>Template App Generic Java JMX</host>
                  <key>jmx["java.lang:type=ClassLoading","UnloadedClassCount"]</key>
               </item>
            </graph_item>
            <graph_item>
               <sortorder>2</sortorder>
               <color>F63100</color>
               <item>
                  <host>Template App Generic Java JMX</host>
                  <key>jmx["java.lang:type=ClassLoading","LoadedClassCount"]</key>
               </item>
            </graph_item>
         </graph_items>
      </graph>
      <graph>
         <name>OperatingSystem: File Descriptors</name>
         <graph_items>
            <graph_item>
               <color>1A7C11</color>
               <item>
                  <host>Template App Generic Java JMX</host>
                  <key>jmx["java.lang:type=OperatingSystem","MaxFileDescriptorCount"]</key>
               </item>
            </graph_item>
            <graph_item>
               <sortorder>1</sortorder>
               <color>2774A4</color>
               <item>
                  <host>Template App Generic Java JMX</host>
                  <key>jmx["java.lang:type=OperatingSystem","OpenFileDescriptorCount"]</key>
               </item>
            </graph_item>
         </graph_items>
      </graph>
      <graph>
         <name>Threading: Threads</name>
         <graph_items>
            <graph_item>
               <color>1A7C11</color>
               <item>
                  <host>Template App Generic Java JMX</host>
                  <key>jmx["java.lang:type=Threading","PeakThreadCount"]</key>
               </item>
            </graph_item>
            <graph_item>
               <sortorder>1</sortorder>
               <color>2774A4</color>
               <item>
                  <host>Template App Generic Java JMX</host>
                  <key>jmx["java.lang:type=Threading","DaemonThreadCount"]</key>
               </item>
            </graph_item>
            <graph_item>
               <sortorder>2</sortorder>
               <color>F63100</color>
               <item>
                  <host>Template App Generic Java JMX</host>
                  <key>jmx["java.lang:type=Threading","ThreadCount"]</key>
               </item>
            </graph_item>
         </graph_items>
      </graph>
   </graphs>
</zabbix_export>
